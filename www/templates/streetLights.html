
<ion-view view-title="Street Lights Out">
<style>
map {
  position:absolute;
  width: 100%;
  height: 100%;
}

.button-bar > .button{
  border: 1px solid #cfcfcf;
}

.button-bar > .button:last-child {
  border-radius: 0px 20px 20px 0px !important;
}
.button-bar > .button:first-child {
    border-radius: 20px 0px 0px 20px !important;
}
.button-balanced {
      min-width: 60px;
      font-weight:bold;
}

table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
    text-align: left;
}
th{
  font-weight: bold;
}

</style>
 <ion-pane class="background-color-grey">
      <ion-content view-title="Hud agents" header-shrink scroll-event-interval="5" delegate-handle="hudagents" scroll="false">
           
           <!--<ion-refresher on-refresh="doRefresh()" pulling-text="Pull to refresh"></ion-refresher> -->
            
            <!-- Search Bar Header -->
            <!-- Bug - If you filter then click on the marker the info-window doesnt get values -->
	       <!--<div class="bar bar-header  bar-balanced item-input-inset" scroll="false">
		      <label class="item-input-wrapper">
		        <i class="icon ion-ios-search placeholder-icon"></i>
		        <input  type="search" placeholder="Search" ng-model="searchText">
		      </label>
		      <button  class="button button-icon ion-android-cancel" ng-click="searchText=''; cancelFilter();">
		      </button>
		      	({{ filtered.length}})
		    </div>-->
			 <!-- Search Bar Header -->


    <div class="button-bar padding">
      <a grouped-radio="'Family'" ng-model="data.demographic">Street Lights</a>
       <!--<a grouped-radio="'Veteran'" ng-model="data.demographic">Vsets</a>     -->
      <a grouped-radio="'Male'" ng-model="data.demographic">Vegetation</a>
       <!--<a grouped-radio="'Female'" ng-model="data.demographic">Female</a>-->
    </div>
		    
		    <!-- Map Start -->
           <map center="{{currentCoords.lat}},{{currentCoords.lon}}"
           		zoom="10"
           		disable-default-u-i="false"
               default-style="false">
           		
           		 <marker position="{{[currentCoords.lat,currentCoords.lon]}}" icon="img/here.png"></marker>
           		 
                <!--Open Shelters-->
           		 <marker id='{{agent.agcid}}'  ng-repeat = "agent in streetlights" 
           		 		position="{{[agent.agc_ADDR_LATITUDE,agent.agc_ADDR_LONGITUDE]}}"
           		 		on-click="showDetail(event,agent)"
										icon="img/medical.png"
										animation = "DROP"
           		 		clickable="true">

                <info-window
                      id="foo-iw" >
                    <div ng-non-bindable="" >
                      <div class="contents" >
                        <div class="text-center">
                          <img style="max-width:50%;max-height:50%" class="text-center" ng-src="{{getPic(agent1)}}"/>
                        </div>
                        <!--<h4 class="text-center">Cafe Name&nbsp;<sup><small style="color:red;">Reported</small></sup></h4 > -->

                        <table style="width:100%">
                          <tr>
                            <th>Location:</th>
                            <td>3310 Brunswick drive, Florissant, MO 64044</td>
                            <td>
                               <div class="button button-small button-balanced" ng-click="openDirections(yelp.cafe)">Navigate</div >
                            </td>
                          </tr>
                          <tr>
                            <th rowspan="2">Reporter:</th>
                            <td>Name: Gary Jobe</td>
                             <td rowspan="2">
                               <div class="button button-small button-balanced" ng-click="openDirections(yelp.cafe)">Call</div >
                            </td>
                          </tr>
                          <tr>
                            <td>Cell: 314-987-9834</td>
                             
                          </tr>
                          <tr>
                            <th>Status:</th>
                            <td>Open <i style="color:red;" class="ion ion-flag"></i></td>
                            <td>
                               <div class="button button-small button-balanced" ng-click="openDirections(yelp.cafe)">Update</div >
                            </td>
                          </tr>
                          <tr>
                            <th>Nearby Trucks:</th>
                            <td>5  <i style="color:green;" class="fa fa-truck fa-2x"></i></td>
                            <td>
                               <a class="button button-small button-balanced" href="#/app/trucks">Dispatch</a >
                            </td>
                          </tr>
                        </table>
                      </div >
                    </div >
                  </info-window >
           		
           		 
           		 </marker> 	
                  <!--Open Shelters-->


                 

           </map>
           <!-- Map End -->
          
          
     
        
      </ion-content>
         <button class="button button-float" ng-click="openComposer()" ng-show="showPlusButton">
	        <i class="icon ion-plus"></i>
	    </button>

      <!--<button id="fab-profile" class="button button-fab button-fab-bottom-right button-energized-900" ng-click="openComposer()"><i class="icon ion-plus"></i></button>-->

    </ion-pane>
 </ion-view>

